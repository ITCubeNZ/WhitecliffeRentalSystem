{"ast":null,"code":"/*! @azure/msal-common v14.0.2 2023-08-18 */\n'use strict';\n\nimport { ClientAuthError } from '../error/ClientAuthError.mjs';\nimport { StringUtils } from '../utils/StringUtils.mjs';\nimport { Separators, Constants } from '../utils/Constants.mjs';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n/**\r\n * Function to build a client info object from server clientInfo string\r\n * @param rawClientInfo\r\n * @param crypto\r\n */\nfunction buildClientInfo(rawClientInfo, crypto) {\n  if (StringUtils.isEmpty(rawClientInfo)) {\n    throw ClientAuthError.createClientInfoEmptyError();\n  }\n  try {\n    const decodedClientInfo = crypto.base64Decode(rawClientInfo);\n    return JSON.parse(decodedClientInfo);\n  } catch (e) {\n    throw ClientAuthError.createClientInfoDecodingError(e.message);\n  }\n}\n/**\r\n * Function to build a client info object from cached homeAccountId string\r\n * @param homeAccountId\r\n */\nfunction buildClientInfoFromHomeAccountId(homeAccountId) {\n  if (StringUtils.isEmpty(homeAccountId)) {\n    throw ClientAuthError.createClientInfoDecodingError(\"Home account ID was empty.\");\n  }\n  const clientInfoParts = homeAccountId.split(Separators.CLIENT_INFO_SEPARATOR, 2);\n  return {\n    uid: clientInfoParts[0],\n    utid: clientInfoParts.length < 2 ? Constants.EMPTY_STRING : clientInfoParts[1]\n  };\n}\nexport { buildClientInfo, buildClientInfoFromHomeAccountId };","map":{"version":3,"names":["buildClientInfo","rawClientInfo","crypto","StringUtils","isEmpty","ClientAuthError","createClientInfoEmptyError","decodedClientInfo","base64Decode","JSON","parse","e","createClientInfoDecodingError","message","buildClientInfoFromHomeAccountId","homeAccountId","clientInfoParts","split","Separators","CLIENT_INFO_SEPARATOR","uid","utid","length","Constants","EMPTY_STRING"],"sources":["../../src/account/ClientInfo.ts"],"sourcesContent":[null],"mappings":";;;;;;;AAAA;;;AAGG;AAeH;;;;AAIG;AACa,SAAAA,eAAeA,CAC3BC,aAAqB,EACrBC,MAAe;EAEf,IAAIC,WAAW,CAACC,OAAO,CAACH,aAAa,CAAC,EAAE;IACpC,MAAMI,eAAe,CAACC,0BAA0B,EAAE;EACrD;EAED,IAAI;IACA,MAAMC,iBAAiB,GAAWL,MAAM,CAACM,YAAY,CAACP,aAAa,CAAC;IACpE,OAAOQ,IAAI,CAACC,KAAK,CAACH,iBAAiB,CAAe;EACrD,EAAC,OAAOI,CAAC,EAAE;IACR,MAAMN,eAAe,CAACO,6BAA6B,CAC9CD,CAAqB,CAACE,OAAO,CACjC;EACJ;AACL;AAEA;;;AAGG;AACG,SAAUC,gCAAgCA,CAC5CC,aAAqB;EAErB,IAAIZ,WAAW,CAACC,OAAO,CAACW,aAAa,CAAC,EAAE;IACpC,MAAMV,eAAe,CAACO,6BAA6B,CAC/C,4BAA4B,CAC/B;EACJ;EACD,MAAMI,eAAe,GAAaD,aAAa,CAACE,KAAK,CACjDC,UAAU,CAACC,qBAAqB,EAChC,CAAC,CACJ;EACD,OAAO;IACHC,GAAG,EAAEJ,eAAe,CAAC,CAAC,CAAC;IACvBK,IAAI,EACAL,eAAe,CAACM,MAAM,GAAG,CAAC,GACpBC,SAAS,CAACC,YAAY,GACtBR,eAAe,CAAC,CAAC;GAC9B;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}