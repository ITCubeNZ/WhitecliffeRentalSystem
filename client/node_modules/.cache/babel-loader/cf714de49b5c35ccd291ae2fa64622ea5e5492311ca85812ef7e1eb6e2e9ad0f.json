{"ast":null,"code":"/*! @azure/msal-browser v3.0.2 2023-08-18 */\n'use strict';\n\nimport { Constants } from '@azure/msal-common';\nimport { BrowserStringUtils } from '../utils/BrowserStringUtils.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Class which exposes APIs to encode plaintext to base64 encoded string. See here for implementation details:\n * https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#Solution_2_%E2%80%93_JavaScript's_UTF-16_%3E_UTF-8_%3E_base64\n */\nclass Base64Encode {\n  /**\n   * Returns URL Safe b64 encoded string from a plaintext string.\n   * @param input\n   */\n  urlEncode(input) {\n    return encodeURIComponent(this.encode(input).replace(/=/g, Constants.EMPTY_STRING).replace(/\\+/g, \"-\").replace(/\\//g, \"_\"));\n  }\n  /**\n   * Returns URL Safe b64 encoded string from an int8Array.\n   * @param inputArr\n   */\n  urlEncodeArr(inputArr) {\n    return this.base64EncArr(inputArr).replace(/=/g, Constants.EMPTY_STRING).replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n  }\n  /**\n   * Returns b64 encoded string from plaintext string.\n   * @param input\n   */\n  encode(input) {\n    const inputUtf8Arr = BrowserStringUtils.stringToUtf8Arr(input);\n    return this.base64EncArr(inputUtf8Arr);\n  }\n  /**\n   * Base64 encode byte array\n   * @param aBytes\n   */\n  base64EncArr(aBytes) {\n    const eqLen = (3 - aBytes.length % 3) % 3;\n    let sB64Enc = Constants.EMPTY_STRING;\n    for (let nMod3, nLen = aBytes.length, nUint24 = 0, nIdx = 0; nIdx < nLen; nIdx++) {\n      nMod3 = nIdx % 3;\n      /* Uncomment the following line in order to split the output in lines 76-character long: */\n      /*\n       *if (nIdx > 0 && (nIdx * 4 / 3) % 76 === 0) { sB64Enc += \"\\r\\n\"; }\n       */\n      nUint24 |= aBytes[nIdx] << (16 >>> nMod3 & 24);\n      if (nMod3 === 2 || aBytes.length - nIdx === 1) {\n        sB64Enc += String.fromCharCode(this.uint6ToB64(nUint24 >>> 18 & 63), this.uint6ToB64(nUint24 >>> 12 & 63), this.uint6ToB64(nUint24 >>> 6 & 63), this.uint6ToB64(nUint24 & 63));\n        nUint24 = 0;\n      }\n    }\n    return eqLen === 0 ? sB64Enc : sB64Enc.substring(0, sB64Enc.length - eqLen) + (eqLen === 1 ? \"=\" : \"==\");\n  }\n  /**\n   * Base64 string to array encoding helper\n   * @param nUint6\n   */\n  uint6ToB64(nUint6) {\n    return nUint6 < 26 ? nUint6 + 65 : nUint6 < 52 ? nUint6 + 71 : nUint6 < 62 ? nUint6 - 4 : nUint6 === 62 ? 43 : nUint6 === 63 ? 47 : 65;\n  }\n}\nexport { Base64Encode };","map":{"version":3,"names":["Base64Encode","urlEncode","input","encodeURIComponent","encode","replace","Constants","EMPTY_STRING","urlEncodeArr","inputArr","base64EncArr","inputUtf8Arr","BrowserStringUtils","stringToUtf8Arr","aBytes","eqLen","length","sB64Enc","nMod3","nLen","nUint24","nIdx","String","fromCharCode","uint6ToB64","substring","nUint6"],"sources":["../../src/encode/Base64Encode.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA;;;AAGG;AAKH;;;AAGG;MACUA,YAAY;EACrB;;;AAGG;EACHC,SAASA,CAACC,KAAa;IACnB,OAAOC,kBAAkB,CACrB,IAAI,CAACC,MAAM,CAACF,KAAK,CAAC,CACbG,OAAO,CAAC,IAAI,EAAEC,SAAS,CAACC,YAAY,CAAC,CACrCF,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CACnBA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAC3B;;EAGL;;;AAGG;EACHG,YAAYA,CAACC,QAAoB;IAC7B,OAAO,IAAI,CAACC,YAAY,CAACD,QAAQ,CAAC,CAC7BJ,OAAO,CAAC,IAAI,EAAEC,SAAS,CAACC,YAAY,CAAC,CACrCF,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CACnBA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;;EAG5B;;;AAGG;EACHD,MAAMA,CAACF,KAAa;IAChB,MAAMS,YAAY,GAAGC,kBAAkB,CAACC,eAAe,CAACX,KAAK,CAAC;IAC9D,OAAO,IAAI,CAACQ,YAAY,CAACC,YAAY,CAAC;;EAG1C;;;AAGG;EACKD,YAAYA,CAACI,MAAkB;IACnC,MAAMC,KAAK,GAAG,CAAC,CAAC,GAAID,MAAM,CAACE,MAAM,GAAG,CAAE,IAAI,CAAC;IAC3C,IAAIC,OAAO,GAAGX,SAAS,CAACC,YAAY;IAEpC,KACI,IAAIW,KAAK,EAAEC,IAAI,GAAGL,MAAM,CAACE,MAAM,EAAEI,OAAO,GAAG,CAAC,EAAEC,IAAI,GAAG,CAAC,EACtDA,IAAI,GAAGF,IAAI,EACXE,IAAI,EAAE,EACR;MACEH,KAAK,GAAGG,IAAI,GAAG,CAAC;;MAEhB;;AAEG;MACHD,OAAO,IAAIN,MAAM,CAACO,IAAI,CAAC,KAAM,EAAE,KAAKH,KAAK,GAAI,EAAE,CAAC;MAChD,IAAIA,KAAK,KAAK,CAAC,IAAIJ,MAAM,CAACE,MAAM,GAAGK,IAAI,KAAK,CAAC,EAAE;QAC3CJ,OAAO,IAAIK,MAAM,CAACC,YAAY,CAC1B,IAAI,CAACC,UAAU,CAAEJ,OAAO,KAAK,EAAE,GAAI,EAAE,CAAC,EACtC,IAAI,CAACI,UAAU,CAAEJ,OAAO,KAAK,EAAE,GAAI,EAAE,CAAC,EACtC,IAAI,CAACI,UAAU,CAAEJ,OAAO,KAAK,CAAC,GAAI,EAAE,CAAC,EACrC,IAAI,CAACI,UAAU,CAACJ,OAAO,GAAG,EAAE,CAAC,CAChC;QACDA,OAAO,GAAG,CAAC;MACd;IACJ;IAED,OAAOL,KAAK,KAAK,CAAC,GACZE,OAAO,GACPA,OAAO,CAACQ,SAAS,CAAC,CAAC,EAAER,OAAO,CAACD,MAAM,GAAGD,KAAK,CAAC,IACvCA,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;;EAGxC;;;AAGG;EACKS,UAAUA,CAACE,MAAc;IAC7B,OAAOA,MAAM,GAAG,EAAE,GACZA,MAAM,GAAG,EAAE,GACXA,MAAM,GAAG,EAAE,GACXA,MAAM,GAAG,EAAE,GACXA,MAAM,GAAG,EAAE,GACXA,MAAM,GAAG,CAAC,GACVA,MAAM,KAAK,EAAE,GACb,EAAE,GACFA,MAAM,KAAK,EAAE,GACb,EAAE,GACF,EAAE;;AAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}