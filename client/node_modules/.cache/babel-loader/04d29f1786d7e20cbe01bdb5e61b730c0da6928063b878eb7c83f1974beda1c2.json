{"ast":null,"code":"/*! @azure/msal-common v14.0.2 2023-08-18 */\n'use strict';\n\nimport { JoseHeaderError } from '../error/JoseHeaderError.mjs';\nimport { JsonTypes } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass JoseHeader {\n  constructor(options) {\n    this.typ = options.typ;\n    this.alg = options.alg;\n    this.kid = options.kid;\n  }\n  /**\n   * Builds SignedHttpRequest formatted JOSE Header from the\n   * JOSE Header options provided or previously set on the object and returns\n   * the stringified header object.\n   * Throws if keyId or algorithm aren't provided since they are required for Access Token Binding.\n   * @param shrHeaderOptions\n   * @returns\n   */\n  static getShrHeaderString(shrHeaderOptions) {\n    // KeyID is required on the SHR header\n    if (!shrHeaderOptions.kid) {\n      throw JoseHeaderError.createMissingKidError();\n    }\n    // Alg is required on the SHR header\n    if (!shrHeaderOptions.alg) {\n      throw JoseHeaderError.createMissingAlgError();\n    }\n    const shrHeader = new JoseHeader({\n      // Access Token PoP headers must have type pop, but the type header can be overriden for special cases\n      typ: shrHeaderOptions.typ || JsonTypes.Pop,\n      kid: shrHeaderOptions.kid,\n      alg: shrHeaderOptions.alg\n    });\n    return JSON.stringify(shrHeader);\n  }\n}\nexport { JoseHeader };","map":{"version":3,"names":["JoseHeader","constructor","options","typ","alg","kid","getShrHeaderString","shrHeaderOptions","JoseHeaderError","createMissingKidError","createMissingAlgError","shrHeader","JsonTypes","Pop","JSON","stringify"],"sources":["../../src/crypto/JoseHeader.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA;;;AAGG;AAWH;MACaA,UAAU;EAKnBC,YAAYC,OAA0B;IAClC,IAAI,CAACC,GAAG,GAAGD,OAAO,CAACC,GAAG;IACtB,IAAI,CAACC,GAAG,GAAGF,OAAO,CAACE,GAAG;IACtB,IAAI,CAACC,GAAG,GAAGH,OAAO,CAACG,GAAG;;EAG1B;;;;;;;AAOG;EACH,OAAOC,kBAAkBA,CAACC,gBAAmC;;IAEzD,IAAI,CAACA,gBAAgB,CAACF,GAAG,EAAE;MACvB,MAAMG,eAAe,CAACC,qBAAqB,EAAE;IAChD;;IAGD,IAAI,CAACF,gBAAgB,CAACH,GAAG,EAAE;MACvB,MAAMI,eAAe,CAACE,qBAAqB,EAAE;IAChD;IAED,MAAMC,SAAS,GAAG,IAAIX,UAAU,CAAC;;MAE7BG,GAAG,EAAEI,gBAAgB,CAACJ,GAAG,IAAIS,SAAS,CAACC,GAAG;MAC1CR,GAAG,EAAEE,gBAAgB,CAACF,GAAG;MACzBD,GAAG,EAAEG,gBAAgB,CAACH;IACzB,EAAC;IAEF,OAAOU,IAAI,CAACC,SAAS,CAACJ,SAAS,CAAC;;AAEvC"},"metadata":{},"sourceType":"module","externalDependencies":[]}