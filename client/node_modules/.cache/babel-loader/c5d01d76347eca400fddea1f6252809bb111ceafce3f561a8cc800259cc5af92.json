{"ast":null,"code":"/*! @azure/msal-browser v3.0.2 2023-08-18 */\n'use strict';\n\nimport { DEFAULT_SYSTEM_OPTIONS, StubbedNetworkModule, Constants, StubPerformanceClient, Logger, ProtocolMode, ClientConfigurationError, ServerResponseType, AzureCloudInstance, LogLevel } from '@azure/msal-common';\nimport { BrowserUtils } from '../utils/BrowserUtils.mjs';\nimport { BrowserConstants, BrowserCacheLocation } from '../utils/BrowserConstants.mjs';\nimport { NavigationClient } from '../navigation/NavigationClient.mjs';\nimport { name, version } from '../packageMetadata.mjs';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n// Default timeout for popup windows and iframes in milliseconds\nconst DEFAULT_POPUP_TIMEOUT_MS = 60000;\nconst DEFAULT_IFRAME_TIMEOUT_MS = 6000;\nconst DEFAULT_REDIRECT_TIMEOUT_MS = 30000;\nconst DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS = 2000;\n/**\r\n * MSAL function that sets the default options when not explicitly configured from app developer\r\n *\r\n * @param auth\r\n * @param cache\r\n * @param system\r\n *\r\n * @returns Configuration object\r\n */\nfunction buildConfiguration({\n  auth: userInputAuth,\n  cache: userInputCache,\n  system: userInputSystem,\n  telemetry: userInputTelemetry\n}, isBrowserEnvironment) {\n  // Default auth options for browser\n  const DEFAULT_AUTH_OPTIONS = {\n    clientId: Constants.EMPTY_STRING,\n    authority: `${Constants.DEFAULT_AUTHORITY}`,\n    knownAuthorities: [],\n    cloudDiscoveryMetadata: Constants.EMPTY_STRING,\n    authorityMetadata: Constants.EMPTY_STRING,\n    redirectUri: Constants.EMPTY_STRING,\n    postLogoutRedirectUri: Constants.EMPTY_STRING,\n    navigateToLoginRequestUrl: true,\n    clientCapabilities: [],\n    protocolMode: ProtocolMode.AAD,\n    OIDCOptions: {\n      serverResponseType: ServerResponseType.FRAGMENT,\n      defaultScopes: [Constants.OPENID_SCOPE, Constants.PROFILE_SCOPE, Constants.OFFLINE_ACCESS_SCOPE]\n    },\n    azureCloudOptions: {\n      azureCloudInstance: AzureCloudInstance.None,\n      tenant: Constants.EMPTY_STRING\n    },\n    skipAuthorityMetadataCache: false\n  };\n  // Default cache options for browser\n  const DEFAULT_CACHE_OPTIONS = {\n    cacheLocation: BrowserCacheLocation.SessionStorage,\n    temporaryCacheLocation: BrowserCacheLocation.SessionStorage,\n    storeAuthStateInCookie: false,\n    secureCookies: false,\n    // Default cache migration to true if cache location is localStorage since entries are preserved across tabs/windows. Migration has little to no benefit in sessionStorage and memoryStorage\n    cacheMigrationEnabled: userInputCache && userInputCache.cacheLocation === BrowserCacheLocation.LocalStorage ? true : false,\n    claimsBasedCachingEnabled: false\n  };\n  // Default logger options for browser\n  const DEFAULT_LOGGER_OPTIONS = {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    loggerCallback: () => {\n      // allow users to not set logger call back\n    },\n    logLevel: LogLevel.Info,\n    piiLoggingEnabled: false\n  };\n  // Default system options for browser\n  const DEFAULT_BROWSER_SYSTEM_OPTIONS = {\n    ...DEFAULT_SYSTEM_OPTIONS,\n    loggerOptions: DEFAULT_LOGGER_OPTIONS,\n    networkClient: isBrowserEnvironment ? BrowserUtils.getBrowserNetworkClient() : StubbedNetworkModule,\n    navigationClient: new NavigationClient(),\n    loadFrameTimeout: 0,\n    // If loadFrameTimeout is provided, use that as default.\n    windowHashTimeout: userInputSystem?.loadFrameTimeout || DEFAULT_POPUP_TIMEOUT_MS,\n    iframeHashTimeout: userInputSystem?.loadFrameTimeout || DEFAULT_IFRAME_TIMEOUT_MS,\n    navigateFrameWait: isBrowserEnvironment && BrowserUtils.detectIEOrEdge() ? 500 : 0,\n    redirectNavigationTimeout: DEFAULT_REDIRECT_TIMEOUT_MS,\n    asyncPopups: false,\n    allowRedirectInIframe: false,\n    allowNativeBroker: false,\n    nativeBrokerHandshakeTimeout: userInputSystem?.nativeBrokerHandshakeTimeout || DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS,\n    pollIntervalMilliseconds: BrowserConstants.DEFAULT_POLL_INTERVAL_MS\n  };\n  const providedSystemOptions = {\n    ...userInputSystem,\n    loggerOptions: userInputSystem?.loggerOptions || DEFAULT_LOGGER_OPTIONS\n  };\n  const DEFAULT_TELEMETRY_OPTIONS = {\n    application: {\n      appName: Constants.EMPTY_STRING,\n      appVersion: Constants.EMPTY_STRING\n    },\n    client: new StubPerformanceClient(DEFAULT_AUTH_OPTIONS.clientId, DEFAULT_AUTH_OPTIONS.authority, new Logger(DEFAULT_LOGGER_OPTIONS, name, version), name, version, {\n      appName: Constants.EMPTY_STRING,\n      appVersion: Constants.EMPTY_STRING\n    })\n  };\n  // Throw an error if user has set OIDCOptions without being in OIDC protocol mode\n  if (userInputAuth?.protocolMode !== ProtocolMode.OIDC && userInputAuth?.OIDCOptions) {\n    // Logger has not been created yet\n    // eslint-disable-next-line no-console\n    console.warn(ClientConfigurationError.createCannotSetOIDCOptionsError());\n  }\n  // Throw an error if user has set allowNativeBroker to true without being in AAD protocol mode\n  if (userInputAuth?.protocolMode && userInputAuth.protocolMode !== ProtocolMode.AAD && providedSystemOptions?.allowNativeBroker) {\n    throw ClientConfigurationError.createCannotAllowNativeBrokerError();\n  }\n  const overlayedConfig = {\n    auth: {\n      ...DEFAULT_AUTH_OPTIONS,\n      ...userInputAuth,\n      OIDCOptions: {\n        ...DEFAULT_AUTH_OPTIONS.OIDCOptions,\n        ...userInputAuth?.OIDCOptions\n      }\n    },\n    cache: {\n      ...DEFAULT_CACHE_OPTIONS,\n      ...userInputCache\n    },\n    system: {\n      ...DEFAULT_BROWSER_SYSTEM_OPTIONS,\n      ...providedSystemOptions\n    },\n    telemetry: {\n      ...DEFAULT_TELEMETRY_OPTIONS,\n      ...userInputTelemetry\n    }\n  };\n  return overlayedConfig;\n}\nexport { DEFAULT_IFRAME_TIMEOUT_MS, DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS, DEFAULT_POPUP_TIMEOUT_MS, DEFAULT_REDIRECT_TIMEOUT_MS, buildConfiguration };","map":{"version":3,"names":["DEFAULT_POPUP_TIMEOUT_MS","DEFAULT_IFRAME_TIMEOUT_MS","DEFAULT_REDIRECT_TIMEOUT_MS","DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS","buildConfiguration","auth","userInputAuth","cache","userInputCache","system","userInputSystem","telemetry","userInputTelemetry","isBrowserEnvironment","DEFAULT_AUTH_OPTIONS","clientId","Constants","EMPTY_STRING","authority","DEFAULT_AUTHORITY","knownAuthorities","cloudDiscoveryMetadata","authorityMetadata","redirectUri","postLogoutRedirectUri","navigateToLoginRequestUrl","clientCapabilities","protocolMode","ProtocolMode","AAD","OIDCOptions","serverResponseType","ServerResponseType","FRAGMENT","defaultScopes","OPENID_SCOPE","PROFILE_SCOPE","OFFLINE_ACCESS_SCOPE","azureCloudOptions","azureCloudInstance","AzureCloudInstance","None","tenant","skipAuthorityMetadataCache","DEFAULT_CACHE_OPTIONS","cacheLocation","BrowserCacheLocation","SessionStorage","temporaryCacheLocation","storeAuthStateInCookie","secureCookies","cacheMigrationEnabled","LocalStorage","claimsBasedCachingEnabled","DEFAULT_LOGGER_OPTIONS","loggerCallback","logLevel","LogLevel","Info","piiLoggingEnabled","DEFAULT_BROWSER_SYSTEM_OPTIONS","DEFAULT_SYSTEM_OPTIONS","loggerOptions","networkClient","BrowserUtils","getBrowserNetworkClient","StubbedNetworkModule","navigationClient","NavigationClient","loadFrameTimeout","windowHashTimeout","iframeHashTimeout","navigateFrameWait","detectIEOrEdge","redirectNavigationTimeout","asyncPopups","allowRedirectInIframe","allowNativeBroker","nativeBrokerHandshakeTimeout","pollIntervalMilliseconds","BrowserConstants","DEFAULT_POLL_INTERVAL_MS","providedSystemOptions","DEFAULT_TELEMETRY_OPTIONS","application","appName","appVersion","client","StubPerformanceClient","Logger","name","version","OIDC","console","warn","ClientConfigurationError","createCannotSetOIDCOptionsError","createCannotAllowNativeBrokerError","overlayedConfig"],"sources":["../../src/config/Configuration.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}